% Zone definition for oz_worker DNS server
{zone, [
    % Canonical domain name
    {cname, "beta.onedata.org"},
    % IP addresses of servers in the domain (list of IPs for every hostname).
    % "ALL" is resolved as all GR worker ips.
    % Must include NS and MX servers.
    % All hostnames must end with cname.
    {ip_addresses, [
        {"beta.onedata.org", ["ALL"]},
        {"ns.beta.onedata.org", ["ALL"]},
        {"mail.beta.onedata.org", ["127.0.0.1"]}
    ]},
    % Hostnames of domain's name servers
    {ns_servers, [
        "ns.beta.onedata.org"
    ]},
    % Hosts handling mail exchange for the domain
    {mail_exchange, [
        % Values are {<preference>, <hostname>}, lowest preference is preferred
        {10, "mail.beta.onedata.org"}
    ]},
    % Parameters used to generate SOA responses
    {authority, [
        % Primary nameserver hostname
        {primary_ns, "ns.beta.onedata.org"},
        % Nameserver admin mailbox
        {admin_mailbox, "dns-admin.onedata.org"},
        % This value must be incremented on every update of this config file
        {serial, 2014111200},
        % Time interval before the zone should be refreshed
        {refresh, 7200}, 
        % Time interval that should elapse before a failed refresh should be retried
        {retry, 1800},
        % Time value that specifies the upper limit on the time interval that 
        % can elapse before the zone is no longer authoritative
        {expiry, 1209600},
        % Time a NAME ERROR = NXDOMAIN result may be cached by any resolver
        {nxdomain_ttl, 120}
    ]},
    % Time To Live for different types of responses
    {ttl, [
        {a, 120},
        {ns, 120},
        {soa, 120},
        {mx, 120},
        % Used when answering that a certain oneprovider supports requested domain.
        % For example: Question A alias.onedata.org will be answered with oneprovider IP in authority section with this TTL.
        {oneprovider_ns, 120},
        % Analogical as above, but concerns a case when GR answers with A records so that the provider does not have
        % to host a DNS server. This feature can be turned on during installation.
        {oneprovider_a, 120}
    ]}
]}.
